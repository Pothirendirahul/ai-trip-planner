import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;

  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 3 days with each day plan with best\ntime to visit in JSON format.\n\n\n\n\n\n\n\n\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"hotel_name\": \"The D Las Vegas\",\n      \"hotel_address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50 - $100 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/media/hotels/1000000/900000/899000/898900/898950/898950_144_b.jpg\",\n      \"geo_coordinates\": \"36.1699, -115.1423\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A centrally located casino hotel on Fremont Street with a retro vibe. It's known for its affordable rates, live entertainment, and proximity to the Fremont Street Experience.\"\n    },\n    {\n      \"hotel_name\": \"Golden Nugget Las Vegas\",\n      \"hotel_address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$75 - $150 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/media/hotels/1000000/900000/899000/898900/898907/898907_144_b.jpg\",\n      \"geo_coordinates\": \"36.1698, -115.1409\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel with a modern twist, featuring a sprawling casino, multiple restaurants, a pool, and a famous shark tank.\"\n    },\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/media/hotels/1000000/900000/899000/898900/898965/898965_144_b.jpg\",\n      \"geo_coordinates\": \"36.1083, -115.1717\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A budget-friendly option known for its circus theme, affordable rooms, and family-friendly atmosphere. It features a carnival midway with rides and games.\"\n    },\n    {\n      \"hotel_name\": \"The Strat Hotel, Casino & SkyPod\",\n      \"hotel_address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$60 - $120 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/media/hotels/1000000/900000/899000/898900/898984/898984_144_b.jpg\",\n      \"geo_coordinates\": \"36.1082, -115.1656\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A hotel with a unique tower offering stunning views from its observation deck. It has an attached casino, multiple restaurants, and a pool.\"\n    },\n    {\n      \"hotel_name\": \"Plaza Hotel & Casino\",\n      \"hotel_address\": \"1 Main St, Las Vegas, NV 89101\",\n      \"price\": \"$55 - $110 per night\",\n      \"hotel_image_url\": \"https://images.trvl-media.com/media/hotels/1000000/900000/899000/898900/898993/898993_144_b.jpg\",\n      \"geo_coordinates\": \"36.1692, -115.1392\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A historic downtown hotel with a vibrant casino, multiple dining options, and a central location on Fremont Street.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"place_name\": \"Fremont Street Experience\",\n          \"place_details\": \"Explore the vibrant pedestrian mall with its dazzling light shows, street performers, and a variety of shops and restaurants.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2017-06/fremont-street-experience-hero.jpg?itok=lC3459Z4\",\n          \"geo_coordinates\": \"36.1699, -115.1423\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"place_name\": \"Heart Attack Grill\",\n          \"place_details\": \"Indulge in a hearty and unique dining experience at this quirky diner known for its high-calorie menu and 'butt-crack' challenge.\",\n          \"place_image_url\": \"https://www.lasvegas.com/sites/default/files/2016-11/Heart-Attack-Grill-Las-Vegas.jpg\",\n          \"geo_coordinates\": \"36.1687, -115.1436\",\n          \"ticket_pricing\": \"Prices vary\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"place_name\": \"Neon Museum\",\n          \"place_details\": \"Discover the history of Las Vegas' iconic neon signs at this fascinating museum, featuring a collection of vintage signs.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2017-05/Neon-Museum-hero.jpg?itok=gO7W9X_T\",\n          \"geo_coordinates\": \"36.1705, -115.1532\",\n          \"ticket_pricing\": \"Around $20 per person\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"4:00 PM - 7:00 PM\",\n          \"place_name\": \"Free Show at a Casino\",\n          \"place_details\": \"Catch a free show at one of the casinos on the Strip, such as the Bellagio Fountains or the Mirage Volcano.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2018-08/bellagio-fountains-hero.jpg?itok=9gP3o55L\",\n          \"geo_coordinates\": \"36.1083, -115.1717\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"3 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"place_name\": \"Las Vegas Strip\",\n          \"place_details\": \"Walk along the iconic Las Vegas Strip, admiring the dazzling hotels and casinos.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2017-08/las-vegas-strip-hero.jpg?itok=B72c1m7R\",\n          \"geo_coordinates\": \"36.1083, -115.1717\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"place_name\": \"In-N-Out Burger\",\n          \"place_details\": \"Enjoy a classic burger and fries at the popular California-based fast-food chain.\",\n          \"place_image_url\": \"https://www.in-n-out.com/images/header-banner-desktop.jpg\",\n          \"geo_coordinates\": \"36.1151, -115.1739\",\n          \"ticket_pricing\": \"Prices vary\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"place_name\": \"The LINQ Promenade\",\n          \"place_details\": \"Stroll along this outdoor shopping and dining destination, featuring a variety of shops, restaurants, and the High Roller observation wheel.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2017-06/linq-promenade-hero.jpg?itok=O8_vQ4vD\",\n          \"geo_coordinates\": \"36.1052, -115.1699\",\n          \"ticket_pricing\": \"Prices vary\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"4:00 PM - 6:00 PM\",\n          \"place_name\": \"The Mob Museum\",\n          \"place_details\": \"Learn about the history of organized crime in Las Vegas and beyond at this interactive museum.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2018-08/mob-museum-hero.jpg?itok=j-s3d30K\",\n          \"geo_coordinates\": \"36.1705, -115.1471\",\n          \"ticket_pricing\": \"Around $25 per person\",\n          \"time_to_travel\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"place_name\": \"Red Rock Canyon National Conservation Area\",\n          \"place_details\": \"Enjoy scenic drives and hiking trails in this stunning natural area just outside of Las Vegas.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2017-09/red-rock-canyon-hero.jpg?itok=9jX4h1m8\",\n          \"geo_coordinates\": \"36.2093, -115.2306\",\n          \"ticket_pricing\": \"Around $15 per vehicle\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"place_name\": \"Bonnie Springs Ranch\",\n          \"place_details\": \"Have a casual lunch and enjoy the Western-themed attractions at this historic ranch.\",\n          \"place_image_url\": \"https://www.bonniesprings.com/images/gallery/main-photo-2015.jpg\",\n          \"geo_coordinates\": \"36.1332, -115.2225\",\n          \"ticket_pricing\": \"Prices vary\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"2:00 PM - 4:00 PM\",\n          \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n          \"place_details\": \"Admire the stunning floral displays and seasonal exhibitions at this renowned conservatory.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2019-10/bellagio-conservatory-hero.jpg?itok=H32_X9bZ\",\n          \"geo_coordinates\": \"36.1108, -115.1735\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"4:00 PM - 6:00 PM\",\n          \"place_name\": \"Free Show at Caesars Palace\",\n          \"place_details\": \"Catch a free show at Caesars Palace, such as the \"The Forum Shops\" fountain show or the \"Fall of Atlantis\" water show.\",\n          \"place_image_url\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/2019-11/caesars-palace-hero.jpg?itok=a1lJ9q8a\",\n          \"geo_coordinates\": \"36.1088, -115.1721\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"2 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* **Hotel Prices:** The price ranges provided are approximate and can vary depending on the season and demand. \n* **Ticket Pricing:** The ticket prices mentioned are also approximate and subject to change.\n* **Travel Time:** Travel time estimates are based on average traffic conditions.\n* **Food:**  Budget for food and drinks separately. Las Vegas offers a wide variety of dining options from cheap eats to fine dining. \n* **Free Shows:** Many casinos offer free shows. Check schedules and availability in advance.\n* **Transportation:**  Consider using public transportation like the Las Vegas Monorail or the Deuce bus to save money on transportation.\n* **Entertainment:** Las Vegas offers a vast array of entertainment options, from concerts and shows to nightlife and clubs. Choose activities that fit your budget and interests.\n\nThis itinerary is just a suggestion, feel free to customize it based on your preferences and interests. Enjoy your trip! \n"},
          ],
        },
      ],
    });

